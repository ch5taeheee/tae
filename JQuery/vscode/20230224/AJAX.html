<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 1. 통신을 위한 객체 생성 
    //    XMLHttpRequest객체 : 페이지 새로고침 없이 데이터를 서버로부터 받아올 수 있는 객체
    let v_ajax = new XMLHttpRequest();


    // 2. 요청 정보 설정 - open(method, url, async)
    //     v_ajax.open('get','ulr지정',true); // async true >> 비동기 처리(default)
    v_ajax.open('get', './dummy.txt', true);


    
    
    // 4. 이벤트로 처리결과 확인 후 결과 출력 - onreadystatechange와 readyState, status 등 이용
    v_ajax.onreadystatechange = function () {
        // console.log(v_ajax.readyState); // 이벤트 리스너를 통해 넘어오는 상태 코드를 확인
        if (v_ajax.readyState == 4 && v_ajax.status == 200) {// 서버가 모든 처리를 완료했다는 코드를 보내주면
            // readyState 4 >> 통신종료(서버처리 완료)
            // status 200 >> 요청 성공
            
            console.log(v_ajax.responseText); //서버가 보내는 응답결과 받음
        }
    };
    
    // 3. 요청 정보를 서버로 전달 - send() 
        v_ajax.send();


</script>