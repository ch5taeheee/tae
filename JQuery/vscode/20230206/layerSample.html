<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        img {
            width: 120px;
            height: 100px;

        }

        #wrapper {
            border: 4px double navy;
            width: 270px;
            height: 380px;
            position: relative;
            /* 자식이 잘 따라오나  */
            top: 20px;
            left: 20px;
        }

        .panel {
            position: absolute;
            /* 마지막으로 지정된 내용이 보인다. 후순위로 작성된 내용이 위로 올라옴. */
            top: 30px;
            left: 8px;
            /* margin: 10px; */
        }

        .control {
            position: absolute;
            right: 0px;
            /* margin: 10px; */
        }
    </style>
</head>

<body>


    <div id="wrapper">
        <div class="control">
            <!-- 판넬을 이동시킬 수 있는 버튼 영역 -->
            <input type="button" value="<" onclick="f_prev()">
            <input type="text" id="pageNo" value="1 / 3" size="1">
            <input type="button" value=">" onclick="f_next()">
        </div>
        <div class="panel" style="z-index:999"><!-- 숫자가 클 수로 ㄱ 위로 올라옴 (position) -->
            <table border="1">
                <tr>
                    <td> <img src="../image/한소희.jpg" alt=""></td>
                    <td><img src="../image/한소희2.jpg" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../image/짱구.jpg" alt=""></td>
                    <td><img src="../image/흰둥이.jpg" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../cho1.jpg" alt=""></td>
                    <td><img src="../image/lee.jpg" alt=""></td>
                </tr>
            </table>
        </div>

        <div class="panel" style="z-index: 888">
            <table border="1">
                <tr>
                    <td> <img src="../image/한소희3.jpg.crdownload" alt=""></td>
                    <td><img src="../image/한소희 4.jpg" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../image/한소희5.jpg" alt=""></td>
                    <td><img src="../image/한소희 6.jpg" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../image/한소희 7.jpg" alt=""></td>
                    <td><img src="../image/한소희 8.jpg" alt=""></td>
                </tr>
            </table>
        </div>

        <div class="panel" style="z-index: 777">
            <table border="1">
                <tr>
                    <td> <img src="../image/한소희11.jpg" alt=""></td>
                    <td><img src="../image/한소희12.jpg.crdownload" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../image/한소희13.jpg" alt=""></td>
                    <td><img src="../image/한소희14.jpg" alt=""></td>
                </tr>
                <tr>
                    <td><img src="../image/한소희15.jpg" alt=""></td>
                    <td><img src="../image/한소희16.jpg" alt=""></td>
                </tr>
            </table>
        </div>

        
    </div>

    <script>
        var v_panels = document.querySelectorAll('.panel'); //배열정보 선택
        var v_pageNo = document.querySelector('#pageNo');

        var v_pnIdx = 0;
        console.log(v_panels.length);

        function f_prev() { //queryselector 내가 지정한 첫 번째 항목만 가지고오기때문에 모든 내용 가져오는 all로 바꿔야함.
            v_pnIdx--;
           if(v_pnIdx==-1) v_pnIdx = v_panels.length -1;
           for (var i = 0; i < v_panels.length; i++) {
                v_panels[i].style.zIndex = 1;
            }
            v_panels[v_pnIdx].style.zIndex = "999";
            // console.log(v_pnIdx);/* =-1 */
            v_pageNo.value = v_pnIdx + 1 + " / "  + v_panels.length;




        }

        function f_next() {
            v_pnIdx++;

            // 판넬의 갯수만큼의 index가(0,1,2)가 반복될 수 있도록 하여 오류방지
            // 발생되는 오류 >> 오버된 index로 인한 스타일 적용대상을 찾지 못 함.
            if (v_pnIdx == v_panels.length) v_pnIdx = 0;

            //모든 판넬에 적용된 상위스택값을 초기화하기
            for (var i = 0; i < v_panels.length; i++) {
                v_panels[i].style.zIndex = 1;
            }

            v_panels[v_pnIdx].style.zIndex = "999";

            //변경된 판넬의 number 대입
            v_pageNo.value = v_pnIdx + 1 + " / "  + v_panels.length;

        }
    </script>
</body>

</html>